{"_path":"/notes/ts/project-configuration/project-references","_dir":"project-configuration","_draft":false,"_partial":false,"_locale":"","title":"项目引用","description":"项目引用（Project References）是一个强大的功能，允许一个 TypeScript 项目引用另一个 TypeScript 项目。这个功能非常适用于大型代码库和单体仓库（monorepos），它使得项目之间的依赖关系更明确，并且可以显著加快编译速度。","tags":"ts","author":"iczp","date":"2024-06-25T00:00:00.000Z","body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"项目引用-project-references"},"children":[{"type":"text","value":"项目引用 Project References"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TypeScript 的项目引用（Project References）是一个强大的功能，允许一个 TypeScript 项目引用另一个 TypeScript 项目。这个功能非常适用于大型代码库和单体仓库（monorepos），它使得项目之间的依赖关系更明确，并且可以显著加快编译速度。"}]},{"type":"element","tag":"h3","props":{"id":"项目引用的核心概念"},"children":[{"type":"text","value":"项目引用的核心概念"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"项目引用通过允许一个项目依赖于另一个项目，使得 TypeScript 编译器可以在编译时确保所有引用的项目都被正确编译。这不仅提高了编译效率，还改善了项目间的类型检查和代码导航。"}]},{"type":"element","tag":"h3","props":{"id":"配置项目引用"},"children":[{"type":"text","value":"配置项目引用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要使用项目引用，需要对 TypeScript 项目进行一些配置，主要包括 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]},{"type":"text","value":" 文件的设置。"}]},{"type":"element","tag":"h4","props":{"id":"步骤-1-创建多个项目"},"children":[{"type":"text","value":"步骤 1: 创建多个项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假设我们有两个项目，"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":"。"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":" 项目依赖于 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 项目。"}]},{"type":"element","tag":"pre","props":{"code":"/my-monorepo\n  /core\n    src/\n      index.ts\n    tsconfig.json\n  /app\n    src/\n      main.ts\n    tsconfig.json\n  tsconfig.json\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"/my-monorepo\n  /core\n    src/\n      index.ts\n    tsconfig.json\n  /app\n    src/\n      main.ts\n    tsconfig.json\n  tsconfig.json\n"}]}]},{"type":"element","tag":"h4","props":{"id":"步骤-2-配置-core-项目的-tsconfigjson"},"children":[{"type":"text","value":"步骤 2: 配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 项目的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，我们需要配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 项目的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]},{"type":"text","value":"："}]},{"type":"element","tag":"pre","props":{"code":"{\n  \"compilerOptions\": {\n    \"composite\": true, // 必须启用\n    \"declaration\": true,\n    \"declarationMap\": true,\n    \"outDir\": \"./dist\"\n  },\n  \"include\": [\"src\"]\n}\n","language":"json","meta":"","className":"language-json shiki shiki-themes github-dark github-dark monokai","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"compilerOptions\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"composite\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"},"children":[{"type":"text","value":"// 必须启用\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"declaration\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"declarationMap\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":"true"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"outDir\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"./dist\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"include\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"src\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"composite"}]},{"type":"text","value":" 选项必须启用，它表示这是一个可以被引用的 TypeScript 项目。"}]},{"type":"element","tag":"h4","props":{"id":"步骤-3-配置-app-项目的-tsconfigjson"},"children":[{"type":"text","value":"步骤 3: 配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":" 项目的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"接下来，我们需要配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":" 项目的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]},{"type":"text","value":"，并引用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 项目："}]},{"type":"element","tag":"pre","props":{"code":"{\n  \"compilerOptions\": {\n    \"outDir\": \"./dist\"\n  },\n  \"include\": [\"src\"],\n  \"references\": [\n    {\n      \"path\": \"../core\"\n    }\n  ]\n}\n","language":"json","meta":"","className":"language-json shiki shiki-themes github-dark github-dark monokai","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"compilerOptions\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"outDir\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"./dist\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"include\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"src\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"references\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"      \"path\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"../core\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"references"}]},{"type":"text","value":" 字段指定了 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"app"}]},{"type":"text","value":" 项目引用了 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"core"}]},{"type":"text","value":" 项目。"}]},{"type":"element","tag":"h4","props":{"id":"步骤-4-配置顶层-tsconfigjson"},"children":[{"type":"text","value":"步骤 4: 配置顶层 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在顶层目录创建一个 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsconfig.json"}]},{"type":"text","value":" 文件，以便可以一次性编译整个项目结构："}]},{"type":"element","tag":"pre","props":{"code":"{\n  \"files\": [],\n  \"references\": [\n    {\n      \"path\": \"./core\"\n    },\n    {\n      \"path\": \"./app\"\n    }\n  ]\n}\n","language":"json","meta":"","className":"language-json shiki shiki-themes github-dark github-dark monokai","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"files\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": [],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"references\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"      \"path\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"./core\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"      \"path\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"./app\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"构建项目"},"children":[{"type":"text","value":"构建项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过在顶层目录运行 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsc --build"}]},{"type":"text","value":" 命令，可以一次性编译所有的子项目："}]},{"type":"element","tag":"pre","props":{"code":"tsc --build\n","language":"bash","meta":"","className":"language-bash shiki shiki-themes github-dark github-dark monokai","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"tsc"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" --build\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这个命令会按照项目之间的依赖关系顺序编译所有的项目，并生成相应的输出文件。"}]},{"type":"element","tag":"h3","props":{"id":"项目引用的优势"},"children":[{"type":"text","value":"项目引用的优势"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"加快增量编译"}]},{"type":"text","value":"：由于每个项目可以单独编译，并且编译结果可以被缓存，所以在修改一个项目时，只需要重新编译受影响的项目，从而加快编译速度。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"更好的模块化"}]},{"type":"text","value":"：项目引用使得项目之间的依赖关系更加明确，有助于模块化管理代码。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"改进的类型检查和代码导航"}]},{"type":"text","value":"：TypeScript 编译器可以跨项目进行类型检查，确保类型安全，并且开发工具（如 VS Code）可以提供更好的代码导航支持。"}]}]},{"type":"element","tag":"h3","props":{"id":"总结"},"children":[{"type":"text","value":"总结"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"TypeScript 的项目引用是一个非常实用的功能，特别适用于大型项目和单体仓库。通过配置项目引用，可以提高编译速度，改进代码模块化管理，并且增强类型检查和代码导航能力。使用项目引用可以使得 TypeScript 项目之间的依赖关系更加清晰和高效，从而更好地管理和维护大型代码库。"}]},{"type":"element","tag":"h3","props":{"id":"参考"},"children":[{"type":"text","value":"参考"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.typescriptlang.org/docs/handbook/project-references.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.typescriptlang.org/docs/handbook/project-references.html"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[{"id":"项目引用-project-references","depth":2,"text":"项目引用 Project References","children":[{"id":"项目引用的核心概念","depth":3,"text":"项目引用的核心概念"},{"id":"配置项目引用","depth":3,"text":"配置项目引用","children":[{"id":"步骤-1-创建多个项目","depth":4,"text":"步骤 1: 创建多个项目"},{"id":"步骤-2-配置-core-项目的-tsconfigjson","depth":4,"text":"步骤 2: 配置 core 项目的 tsconfig.json"},{"id":"步骤-3-配置-app-项目的-tsconfigjson","depth":4,"text":"步骤 3: 配置 app 项目的 tsconfig.json"},{"id":"步骤-4-配置顶层-tsconfigjson","depth":4,"text":"步骤 4: 配置顶层 tsconfig.json"}]},{"id":"构建项目","depth":3,"text":"构建项目"},{"id":"项目引用的优势","depth":3,"text":"项目引用的优势"},{"id":"总结","depth":3,"text":"总结"},{"id":"参考","depth":3,"text":"参考"}]}]}},"_type":"markdown","_id":"content:notes:ts:project-configuration:04.project-references.md","_source":"content","_file":"notes/ts/project-configuration/04.project-references.md","_extension":"md"}