{"_path":"/notes/ts/declaration-files/publishing","_dir":"declaration-files","_draft":false,"_partial":false,"_locale":"","title":"发布声明文件到npm","description":"书写高质量的TypeScript声明文件，展示一些API的文档以及例子","tags":"ts","author":"iczp","date":"2024-06-19T00:00:00.000Z","body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"要发布一个 TypeScript 项目，并将其声明文件一起发布到 npm，需要遵循一系列步骤。下面是详细的发布过程："}]},{"type":"element","tag":"h3","props":{"id":"_1-准备项目"},"children":[{"type":"text","value":"1. 准备项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先，确保你的 TypeScript 项目已经完成开发，并通过 TypeScript 编译器（"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsc"}]},{"type":"text","value":"）将 TypeScript 代码编译为 JavaScript。项目中应包含以下关键文件："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":"：项目的配置文件，包含项目的名称、版本、依赖等信息。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"编译后的 JavaScript 文件（通常位于 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dist"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"lib"}]},{"type":"text","value":" 目录下）。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"TypeScript 声明文件（"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".d.ts"}]},{"type":"text","value":" 文件），如果有的话。"}]}]},{"type":"element","tag":"h3","props":{"id":"_2-配置-packagejson"},"children":[{"type":"text","value":"2. 配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 文件中，需要做以下几个关键配置："}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":"：包的名称，确保它在 npm 中是唯一的。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"version"}]},{"type":"text","value":"：包的版本号。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"main"}]},{"type":"text","value":"：指定入口文件，通常是编译后的 JavaScript 文件。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"typings"}]},{"type":"text","value":"：指定 TypeScript 声明文件的入口文件（如果有的话）。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"license"}]},{"type":"text","value":"：指定项目的许可证类型。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"dependencies"}]},{"type":"text","value":" 和 "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"devDependencies"}]},{"type":"text","value":"：列出项目的依赖，确保所有依赖都被正确声明。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"例如，一个简单的 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 配置可能如下所示："}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark github-dark monokai","code":"{\n  \"name\": \"your-package-name\",\n  \"version\": \"1.0.0\",\n  \"main\": \"dist/index.js\",\n  \"typings\": \"dist/index.d.ts\",\n  \"license\": \"MIT\",\n  \"dependencies\": {\n    // 你的项目依赖\n  },\n  \"devDependencies\": {\n    // 开发时的依赖\n  }\n}\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"name\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"your-package-name\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"version\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"1.0.0\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"main\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"dist/index.js\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"typings\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"dist/index.d.ts\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"license\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"MIT\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"dependencies\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"},"children":[{"type":"text","value":"    // 你的项目依赖\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"devDependencies\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F"},"children":[{"type":"text","value":"    // 开发时的依赖\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_3-构建项目"},"children":[{"type":"text","value":"3. 构建项目"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"确保你的项目可以成功构建并生成编译后的 JavaScript 文件和 TypeScript 声明文件。你可以使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tsc"}]},{"type":"text","value":" 命令来进行手动编译，或者配置构建脚本在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 中自动执行。"}]},{"type":"element","tag":"pre","props":{"className":"language-json shiki shiki-themes github-dark github-dark monokai","code":"{\n  \"scripts\": {\n    \"build\": \"tsc\"\n  }\n}\n","language":"json","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"  \"scripts\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic"},"children":[{"type":"text","value":"    \"build\""}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#CFCFC2"},"children":[{"type":"text","value":"\"tsc\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2"},"children":[{"type":"text","value":"}\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"运行 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm run build"}]},{"type":"text","value":" 或 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"yarn build"}]},{"type":"text","value":" 来执行构建。"}]},{"type":"element","tag":"h3","props":{"id":"_4-登录-npm-账号"},"children":[{"type":"text","value":"4. 登录 npm 账号"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在发布之前，你需要登录你的 npm 账号。如果没有账号，可以使用 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"npm adduser"}]},{"type":"text","value":" 命令注册一个新账号。"}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm adduser\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" adduser\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_5-发布到-npm"},"children":[{"type":"text","value":"5. 发布到 npm"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"完成上述步骤后，即可进行发布。"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"登录 npm 账号"}]},{"type":"text","value":"："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm login\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" login\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"发布包"}]},{"type":"text","value":"："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm publish\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" publish\n"}]}]}]}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"如果是第一次发布该包，可能需要添加 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"--access public"}]},{"type":"text","value":" 参数来确保包对所有人可见："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm publish --access public\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" publish"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" --access"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" public\n"}]}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"_6-验证发布"},"children":[{"type":"text","value":"6. 验证发布"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"发布完成后，可以访问 npm 上的包页面，确认包已经成功发布。确保可以安装包并使用。"}]},{"type":"element","tag":"h3","props":{"id":"_7-发布-typescript-声明文件"},"children":[{"type":"text","value":"7. 发布 TypeScript 声明文件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果你的项目包含 TypeScript 声明文件，确保它们也包含在你的发布包中，并在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 中正确配置 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"typings"}]},{"type":"text","value":" 字段。通常情况下，编译后的 JavaScript 文件和 TypeScript 声明文件应该位于 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dist"}]},{"type":"text","value":" 目录（或其他类似目录）下，并在 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" 中相应地引用。"}]},{"type":"element","tag":"h3","props":{"id":"示例完整的发布流程"},"children":[{"type":"text","value":"示例：完整的发布流程"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"假设你的项目名称为 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"your-package-name"}]},{"type":"text","value":"，包含了一个主文件 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dist/index.js"}]},{"type":"text","value":" 和 TypeScript 声明文件 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dist/index.d.ts"}]},{"type":"text","value":"，你可以按照以下步骤进行发布："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"确保项目构建成功："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm run build\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" run"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" build\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"登录 npm 账号："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm login\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" login\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"发布包："},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-dark github-dark monokai","code":"npm publish --access public\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#B392F0;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E"},"children":[{"type":"text","value":"npm"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" publish"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#79B8FF;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF"},"children":[{"type":"text","value":" --access"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74"},"children":[{"type":"text","value":" public\n"}]}]}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"验证发布："},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"访问 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"https://www.npmjs.com/package/your-package-name"}]},{"type":"text","value":" 确认包已经发布成功。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"通过以上步骤，你可以成功地发布你的 TypeScript 项目，并包含 TypeScript 声明文件以供其他开发者使用和引用。"}]},{"type":"element","tag":"h3","props":{"id":"参考"},"children":[{"type":"text","value":"参考"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.typescriptlang.org/docs/handbook/declaration-files/publishing.html"}]}]}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[{"id":"_1-准备项目","depth":3,"text":"1. 准备项目"},{"id":"_2-配置-packagejson","depth":3,"text":"2. 配置 package.json"},{"id":"_3-构建项目","depth":3,"text":"3. 构建项目"},{"id":"_4-登录-npm-账号","depth":3,"text":"4. 登录 npm 账号"},{"id":"_5-发布到-npm","depth":3,"text":"5. 发布到 npm"},{"id":"_6-验证发布","depth":3,"text":"6. 验证发布"},{"id":"_7-发布-typescript-声明文件","depth":3,"text":"7. 发布 TypeScript 声明文件"},{"id":"示例完整的发布流程","depth":3,"text":"示例：完整的发布流程"},{"id":"参考","depth":3,"text":"参考"}]}},"_type":"markdown","_id":"content:notes:ts:declaration-files:07.publishing.md","_source":"content","_file":"notes/ts/declaration-files/07.publishing.md","_extension":"md"}