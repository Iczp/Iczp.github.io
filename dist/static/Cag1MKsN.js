import{l as g,r as u}from"./CdSTkMVz.js";import{i as f}from"./ElkFyO1H.js";const l=t=>t?Array.isArray(t)?t:typeof t=="string"?t.split(/ |,/g).filter(o=>o.trim()):[t]:[],h=async()=>{const t=await g(),o=u([]),n=(a,r=0,s=[])=>a.map((e,c)=>{const i={...e,tags:l(e.tags),categories:l(e.categories),$isDir:f(e),$depth:r,$index:c,$parents:()=>s};return o.value.push(i),Array.isArray(i.children)&&i.children.length>0&&(i.children=n(i.children,r+1,[i,...s])),i});return t&&n(t),{list:o,getAllByTags:a=>o.value.filter(r=>!r.$isDir&&Array.isArray(r.tags)&&r.tags.some(s=>a.some(e=>(e==null?void 0:e.toLocaleLowerCase())==(s==null?void 0:s.toLocaleLowerCase())))),getAllByCatebories:a=>o.value.filter(r=>!r.$isDir&&Array.isArray(r.categories)&&r.categories.some(s=>a.some(e=>e.toLocaleLowerCase()==s.toLocaleLowerCase())))}};export{h as u};
